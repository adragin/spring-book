## Техническое задание: Создание личного кабинета

### **Цель**

Реализовать функционал "Личного кабинета" для пользователей, чтобы каждый пользователь мог видеть только свои контакты. Для этого необходимо передавать токен с каждым запросом и изменять структуру данных.

### **Изменения в модели данных**

1. **Добавление поля `ownerId` в модель `Contact`**

```java
@Data
@Builder
public class Contact {
    // остальные поля
    private Integer ownerId;
}
```

2. **Рефакторинг структуры базы данных**

    | id | name  | description | telephone | owner_id |
    |----|-------|-------------|------------|----------|
    | 1  | John  | Friend      | 1234567890 | 101      |
    | 2  | Alice | Colleague   | 5555555555 | 102      |

Для поддержки хранения нескольких контактов для одного пользователя, текущая таблица будет разделена на две:

- **Таблица контактов**

    | id | name  | description | owner_id |
    |----|-------|-------------|----------|
    | 1  | John  | Friend      | 101      |
    | 2  | Alice | Colleague   | 102      |

- **Таблица телефонов**

    | id | contact_id | telephone  |
    |----|------------|------------|
    | 1  | 1          | 1234567890 |
    | 2  | 1          | 0987654321 |
    | 3  | 2          | 5555555555 |

### **Функциональные требования**

1. **Аутентификация и авторизация**

   - Все запросы, кроме регистрации и получения токена, должны содержать токен для идентификации пользователя.
   - Проверка валидности токена при каждом запросе.

2. **Управление контактами**

   - **Создание контакта**: Пользователь может создавать новые контакты, которые будут связаны с его `ownerId`.
   - **Получение контактов**: Возвращаются только контакты, принадлежащие текущему пользователю.
   - **Обновление и удаление контактов**: Доступны только для владельца контакта.

3. **Структура базы данных**

   - Обеспечить связь "один ко многим" между контактами и телефонами.
   - Обеспечить целостность данных и корректные связи между таблицами.

### **Пример данных связи "один ко многим"**

- **Контакт "John"** имеет два телефонных номера:

  - **Телефон 1**: 1234567890
  - **Телефон 2**: 0987654321

- **Контакт "Alice"** имеет один телефонный номер:

  - **Телефон 1**: 5555555555

[Шаг 12](./step-12.md)
